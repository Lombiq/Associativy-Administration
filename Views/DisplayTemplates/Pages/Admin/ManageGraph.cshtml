@model Associativy.Administration.Models.Pages.Admin.AssociatvyManageGraphPart
@using Associativy.Frontends.Extensions
           
@{
    Layout.Title = Model.GraphDescriptor.DisplayGraphName.ToString();
}

<div>
    <h3>@T("Graph info")</h3>
    
    <p>
        @T("Number of nodes in the graph: {0}", Model.NodeCount) @T("Number of connections: {0}", Model.ConnectionCount)
    </p>
</div>

<div>
    <h3>@T("View graph")</h3>
    <ul>
    @foreach (var engine in Model.FrontendEngines)
    {
        <li>
            @Html.Link(T("View with the {0} frontend engine", engine.DisplayEngineName.Text).Text, @Url.RouteEngineUrl(engine, Model.GraphDescriptor.GraphName))
        </li>
    }
    </ul>
</div>

<div>
    <h3>@T("Export")</h3>
    @Html.ActionLink(T("Export connections").Text, "ExportConnections", new { GraphName = Model.GraphDescriptor.GraphName }, new { @class = "button" })
    <span class="hint">@T("This only exports connection data. The nodes (i.e. the content items stored in the graph) have to be exported with the built-in Import/Export feature.")</span>
</div>

<div>
    <h3>@T("Import")</h3>
    @using (Html.BeginFormAntiForgeryPost(Url.Action("ImportConnections", new { GraphName = Model.GraphDescriptor.GraphName }), FormMethod.Post, new { enctype = "multipart/form-data" }))
    {
        <fieldset>
            @Html.Label("ConnectionsFile", T("Select a connections file").ToString())
            <input type="file" name="ConnectionsFile" id="ConnectionsFile" size="64">
            <span class="hint">@T("This only imports connections. Content items have to be be imported separately with the built-in Import/Export feature.")</span>
        </fieldset>
        <button type="submit" class="primaryAction">@T("Import connections")</button>
    }
</div>
